<!DOCTYPE html>
<html>
<head>
    <head>
      
    <meta charset="utf-8" />
    
    <title>Analysis</title>
    <meta name="viewport" content= "width=device-width, initial-scale=1.0"> 
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> 
    
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css" /> -->
    <link rel="stylesheet" type="text/css" media="screen" href="chatanalysis.css" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
</head>
    <body>
        <nav class="navbar navbar-light bg-light">
            <a class="navbar-brand" href="#">
                <img src="assets/Dell_Logo.jpg" class="d-inline-block align-top" alt="">
            </a>
            <span id="selectLanguage" style="float: right; display: block; margin-right:5px">
                <span style="background: #6c757d;color: #fff;width: 38px;height: 28px;padding: 2px 11px;border-radius: .25rem 0 0 .25rem;"><i class="fa fa-globe"></i></span>
                <!-- <select id="selectLanguageOption" style="margin-left: -5px;" onchange="startChat()">
                    <option value="en">en</option>
                    <option>en-US</option>
                    <option>de</option> 
                    <option>pt</option>
                    <option>cn</option>
                    <option>zh</option>
                    <option>zh_CN</option>
                    <option>zh_TW</option>
                    <option>es</option>
                    <option>ko</option>
                    <option>ja</option>       
                    <option>fr</option>
                    <option>da</option>
                    <option>nl_Nl</option>   
                    <option>nl-NL</option> 
                    <option>nl</option> 
                    <option>en_US</option> 
                    <option>fi</option> 
                    <option>it</option> 
                    <option>no</option> 
                    <option>pt_BR</option>
                    <option>pt-BR</option>  
                    <option>ru</option> 
                    <option>es_MX</option> 
                    <option>sv</option>
                    <option>th</option>
                    <option>pl</option>
                    <option>sk</option>
                </select> -->
                <select id="selectLanguageCode" style="margin-left: -5px;">
                    <option value="en">en</option>
                    <option>fr</option>
                    <option>de</option> 
                    <option>zh</option>
                    <option>es</option>
                    <option>ja</option>
                    <option>nl</option>
                    <option>pt</option>
                    <option>sv</option>
                </select>
                <select id="selectCountryCode" style="margin-left: -5px;">
                    <option value="en">en</option>
                    <option>au</option>
                    <option>ca</option> 
                    <option>de</option>
                    <option>cn</option>
                    <option>hk</option>
                    <option>ch</option>
                    <option>es</option>
                    <option>fr</option>
                    <option>ie</option>
                    <option>in</option>
                    <option>jp</option>
                    <option>my</option>
                    <option>nl</option>
                    <option>nz</option>
                    <option>br</option>
                    <option>ai</option>
                    <option>ag</option>
                    <option>aw</option>
                    <option>bs</option>
                    <option>bb</option>
                    <option>bz</option>
                    <option>bm</option>
                    <option>vg</option>
                    <option>cr</option>
                    <option>dm</option>
                    <option>do</option>
                    <option>sv</option>
                    <option>gd</option>
                    <option>gt</option>
                    <option>gy</option>
                    <option>ht</option>
                    <option>hn</option>
                    <option>ky</option>
                    <option>jm</option>
                    <option>an</option>
                    <option>ni</option>
                    <option>pa</option>
                    <option>pr</option>
                    <option>kn</option>
                    <option>vc</option>
                    <option>lc</option>
                    <option>sr</option>
                    <option>tt</option>
                    <option>tc</option>
                    <option>vi</option>
                    <option>se</option>
                    <option>sg</option>
                    <option>uk</option>
                    <option>us</option>
                    <option>ca</option>
                </select>
            </span>
        </nav>
        <div class="navigationLink" style="text-align: center;">
            <dev style="color:#fff; font-size: 20px;">Welcome to SFDC Chat Analysis</dev>
        </div>    
        <div id="mySidepanel" class="sidepanel">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="#">About</a>
            <a href="#">Services</a>
            <a href="#">Clients</a>
            <a href="#">Contact</a>
        </div>
          
        <button class="openbtn" onclick="startChat()"> Chat or Call </button>
        <script>
            function startChat(){
                
                //Get all required form details in object
                var lang = document.getElementById("selectLanguageCode");
                var country = document.getElementById("selectCountryCode");
                var selectedLanguageDropdown = lang.options[lang.selectedIndex].value;
                var selectedCountryDropdown = country.options[country.selectedIndex].value;
                triggerSnapin(selectedLanguageDropdown, selectedCountryDropdown)
            }

            function openNav() {
                document.getElementById("mySidepanel").style.width = "250px";
            }
            
            
            function closeNav() {
                document.getElementById("mySidepanel").style.width = "0";
            }

            
        </script>
        <style type='text/css'>
            .embeddedServiceHelpButton .helpButton .uiButton {
                background-color: #0063B8;
                font-family: "Arial", sans-serif;
            }
            .embeddedServiceHelpButton .helpButton .uiButton:focus {
                outline: 1px solid #0063B8;
            }
            .embeddedServiceLiveAgentStateChatItem .nameAndTimeContent {
                color: #7E7E7E !important;
            }
            .embeddedServiceLiveAgentStateChatInputFooter.chasitorInputWrapper {
                background-color: #f5f6f7 !important;
            }
               
            /** Hide the queue position unless waiting for chat **/
                /* #liveAgentClientChat.liveAgentStateWaiting #liveAgentQueuePosition { display: inline; }
                #liveAgentQueuePosition { display: none; } */
        
        </style>
        
        <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
        <script type='text/javascript'>
            function triggerSnapin(language, country) {
                var initESW = function(gslbBaseURL) {
                    embedded_svc.settings.displayHelpButton = true; //Or false
                    //embedded_svc.settings.language = language; 
                    
                   
                    embedded_svc.settings.extraPrechatFormDetails = [{
                        "label":"Language Code", 
                        "value":language,
                        "transcriptFields": ["Language_Code__c"]
                        },{
                        "label":"Selection Type", 
                        "value":"",
                        "transcriptFields": ["Selection_Type__c"]
                        },{
                        "label":"Channel", 
                        "value":"",
                        "transcriptFields": ["Channel__c"]
                        },{
                        "label":"", 
                        "value":country,
                        "transcriptFields": ["Country__c"]
                        },{
                            "label":"Origin", 
                            "value":"Sales",
                            "transcriptFields": ["Origin__c"]
                        }
                    ];
                    
                    embedded_svc.settings.avatarImgURL = "https://ability-velocity-8976-dev-ed--c.visualforce.com/resource/1622088894000/Dell_Snapin_Agent_Avatar?";
		            embedded_svc.settings.chatbotAvatarImgURL = "https://ability-velocity-8976-dev-ed--c.visualforce.com/resource/1622088948000/Dell_Snapin_Bot_Avatar?";

            
                    embedded_svc.settings.enabledFeatures = ['LiveAgent'];
                    embedded_svc.settings.entryFeature = 'LiveAgent';
            
                    embedded_svc.init(
                        'https://ability-velocity-8976-dev-ed.cs92.my.salesforce.com',
                        'https://sandbox-sample-chat-developer-edition.cs92.force.com/liveAgentSetupFlow',
                        gslbBaseURL,
                        '00D3F000000RUNe',
                        'DELL_CONNECT_DEFAULT',
                        {
                            baseLiveAgentContentURL: 'https://c.la2-c1cs-ord.salesforceliveagent.com/content',
                            deploymentId: '5723F000000CkSh',
                            buttonId: '5733F000000ClGu',
                            baseLiveAgentURL: 'https://d.la2-c1cs-ord.salesforceliveagent.com/chat',
                            eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I3F0000004CkFUAU_179898ae8cd',
                            isOfflineSupportEnabled: false
                        }
		);
	};

	if (!window.embedded_svc) {
		var s = document.createElement('script');
		s.setAttribute('src', 'https://ability-velocity-8976-dev-ed.cs92.my.salesforce.com/embeddedservice/5.0/esw.min.js');
		s.onload = function() {
			initESW(null);
		};
		document.body.appendChild(s);
	} else {
		initESW('https://service.force.com');
	}
            }
            
        </script>
        
    </body>
</html>
