<!DOCTYPE html>
<html>
<head>
    <head>
      
    <meta charset="utf-8" />
    
    <title>Analysis</title>
    <meta name="viewport" content= "width=device-width, initial-scale=1.0"> 
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> 
    
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap.min.css" /> -->
    <link rel="stylesheet" type="text/css" media="screen" href="chatanalysis.css" />
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
</head>
    <body>
        <nav class="navbar navbar-light bg-light">
            <a class="navbar-brand" href="#">
                <img src="assets/Dell_Logo.jpg" class="d-inline-block align-top" alt="">
            </a>
            <span id="selectLanguage" style="float: right; display: block; margin-right:5px">
                <span style="background: #6c757d;color: #fff;width: 38px;height: 28px;padding: 2px 11px;border-radius: .25rem 0 0 .25rem;"><i class="fa fa-globe"></i></span>
                <select id="selectLanguageOption" style="margin-left: -5px;" onchange="startChat()">
                    <option value="en">en</option>
                    <option>en-US</option>
                    <option>de</option> 
                    <option>pt</option>
                    <option>cn</option>
                    <option>zh</option>
                    <option>zh_CN</option>
                    <option>zh_TW</option>
                    <option>es</option>
                    <option>ko</option>
                    <option>ja</option>       
                    <option>fr</option>
                    <option>da</option>
                    <option>nl_Nl</option>   
                    <option>nl-NL</option> 
                    <option>nl</option> 
                    <option>en_US</option> 
                    <option>fi</option> 
                    <option>it</option> 
                    <option>no</option> 
                    <option>pt_BR</option>
                    <option>pt-BR</option>  
                    <option>ru</option> 
                    <option>es_MX</option> 
                    <option>sv</option>
                    <option>th</option>
                    <option>pl</option>
                    <option>sk</option>
                </select>
            </span>
        </nav>
        <div class="navigationLink" style="text-align: center;">
            <dev style="color:#fff; font-size: 20px;">Welcome to SFDC Chat Analysis</dev>
        </div>    
        <div id="mySidepanel" class="sidepanel">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="#">About</a>
            <a href="#">Services</a>
            <a href="#">Clients</a>
            <a href="#">Contact</a>
        </div>
          
        <button class="openbtn" onclick="startChat()"> Chat or Call </button>
        <script>
            function startChat(){
                
                //Get all required form details in object
                var e = document.getElementById("selectLanguageOption");
                var selectedLanguageDropdown = e.options[e.selectedIndex].value;//change it here
                
                triggerSnapin(selectedLanguageDropdown)


                triggerSnapin(objSnapin)
            }

            function openNav() {
                document.getElementById("mySidepanel").style.width = "250px";
            }
            
            
            function closeNav() {
                document.getElementById("mySidepanel").style.width = "0";
            }

            
        </script>
        <style type='text/css'>
            .embeddedServiceHelpButton .helpButton .uiButton {
                background-color: #005290;
                font-family: "Arial", sans-serif;
            }
            .embeddedServiceHelpButton .helpButton .uiButton:focus {
                outline: 1px solid #005290;
            }
               
            /** Hide the queue position unless waiting for chat **/
                /* #liveAgentClientChat.liveAgentStateWaiting #liveAgentQueuePosition { display: inline; }
                #liveAgentQueuePosition { display: none; } */
        
        </style>
        
        <script type='text/javascript' src='https://service.force.com/embeddedservice/5.0/esw.min.js'></script>
        <script type='text/javascript'>
            function triggerSnapin(language) {
                var initESW = function(gslbBaseURL) {
                    embedded_svc.settings.displayHelpButton = true; //Or false
                    embedded_svc.settings.language = language; 
                    
                    /*
                    ----------Spike Testing---------------------------
                    embedded_svc.settings.extraPrechatFormDetails = [{
                        "label":"First Name",  
                        "transcriptFields": ["FirstName__c"]
                        },{
                        "label":"Last Name", 
                        "transcriptFields": ["LastName__c"]
                        },{
                        "label":"Email", 
                        "transcriptFields": ["Email__c"]
                        },{
                        "label":"Language Code", 
                        "value": language,
                        "transcriptFields": ["Language_Code__c"]
                        }
                    ];
                    ------------------------------------------------
                    */
                    embedded_svc.settings.extraPrechatFormDetails = [{
                        "label":"Language Code", 
                        "value":language,
                        "transcriptFields": ["Language_Code__c"]
                        },{
                        "label":"Selection Type", 
                        "value":"",
                        "transcriptFields": ["Selection_Type__c"]
                        },{
                        "label":"Channel", 
                        "value":"",
                        "transcriptFields": ["Channel__c"]
                        },{
                        "label":"", 
                        "value":"us",
                        "transcriptFields": ["Country__c"]
                        }
                    ];
            
            
                    embedded_svc.settings.enabledFeatures = ['LiveAgent'];
                    embedded_svc.settings.entryFeature = 'LiveAgent';
            
                    embedded_svc.init(
                        'https://platform-efficiency-5535-dev-ed.cs79.my.salesforce.com',
                        'https://sandbox-samplechat-developer-edition.cs79.force.com/liveAgentSetupFlow',
                        gslbBaseURL,
                        '00D1h000000IIZd',
                        'DELL_CONNECT_DEFAULT',
                        {
                            baseLiveAgentContentURL: 'https://c.la2-c1cs-ord.salesforceliveagent.com/content',
                            deploymentId: '5721h000000Cepp',
                            buttonId: '5731h000000CiIY',
                            baseLiveAgentURL: 'https://d.la2-c1cs-ord.salesforceliveagent.com/chat',
                            eswLiveAgentDevName: 'EmbeddedServiceLiveAgent_Parent04I1h000000CaweEAC_1795ab76664',
                            isOfflineSupportEnabled: false
                        }
                    );
                };
                if (!window.embedded_svc) {
                    var s = document.createElement('script');
                    s.setAttribute('src', 'https://platform-efficiency-5535-dev-ed.cs79.my.salesforce.com/embeddedservice/5.0/esw.min.js');
                    s.onload = function() {
                        initESW(null);
                    };
                    document.body.appendChild(s);
                } else {
                    initESW('https://service.force.com');
                }
            }
            
        </script>
        
    </body>
</html>