<!DOCTYPE html>
<html>
<head>
	<title>SIT 1</title>
	<meta name="viewport" content= "width=device-width, initial-scale=1.0"> 
	<link rel="stylesheet" type="text/css" media="screen" href="../chatanalysis.css" />
</head>
<body>

	
    <nav class="navbar navbar-light bg-light">
        <a class="navbar-brand" href="#">
            <img src="../assets/Dell_Logo.jpg" class="d-inline-block align-top" alt="">
        </a>  
    </nav>
    <div class="navigationLink" style="text-align: center;">
        <dev style="color:#fff; font-size: 16px;">DCSF SIT1 Development</dev>
    </div>  
	<div class="post">
		<p class="quote">
			This page is designed to host the Sample Bot created in Org
		</p>
		<hr>
	</div>
	<button class="openbtn" onclick="startChat()"> Chat or Call </button>

	
	<script type='text/javascript'>
		async function loadScript(src) {
			return new Promise(function (resolve, reject) {
				var s;
				s = document.createElement('script');
				s.src = src + '?v=' + Date.now();
				s.onload = resolve;
				s.onerror = reject;
				s.defer = true;
				document.head.appendChild(s);
			});
		}

		async function startChat(){
			/*var snapInObject = {
				firstName:"",
				lastName:"",
				emailAddress:"",
				languageCode:"en",
				seletionType:"",
				channel:"",
				countryCode:"us",
				origin:"sales"
			};*/

			var snapInObject = {
				name:"",
				emailAddress:"",
				languageCode:"en",
				countryCode:"us"
			};
			
			console.log('Inside startChat');
			
			await loadScript('https://sit1-dellicm-dell-na174.cs34.force.com/liveAgentSetupFlow/resource/DellSalesEmbeddedsvc/DellSalesEmbeddedsvc/DellSalesEmbeddedsvc.js');
			triggerSnapin(snapInObject);
		}
		
	</script>
</body>
</html>